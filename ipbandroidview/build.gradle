plugins {
    id "com.android.library"
    id "kotlin-android"
    id "kotlin-kapt"
    id "kotlin-parcelize"
}

apply from: "publish.gradle"

android {
    compileSdkVersion 33

    defaultConfig {
        minSdkVersion 23
        targetSdkVersion 33

        versionCode commitsCount()
        versionName "$major.${generateMinorVersionCode()}"

        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
        consumerProguardFiles "consumer-rules.pro"
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile("proguard-android-optimize.txt"), "proguard-rules.pro"
        }
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
    kotlinOptions {
        jvmTarget = "1.8"
    }
    sourceSets {
        main {
            res.srcDirs = ["src/main/res/view", "src/main/res/fragments", "src/main/res"]
        }
    }
    buildFeatures {
        compose true
    }
    composeOptions {
        kotlinCompilerExtensionVersion "1.3.1"
    }
}

dependencies {
    implementation libs.coreKtx
    implementation libs.androidMaterial
    implementation libs.appcompat
    implementation libs.material
    implementation libs.bundles.coroutines
    implementation libs.bundles.orbit
    implementation libs.bundles.activity
    implementation libs.bundles.compose
    implementation libs.bundles.koin
    implementation libs.bundles.accompanist
    implementation libs.appyxCore
    testImplementation libs.appyxJunit
    testImplementation libs.orbitTest
    testImplementation libs.junit
    androidTestImplementation libs.junitAndroid
    androidTestImplementation libs.uiTestJunit4
    implementation "com.progressterra.ipbandroidapi:ipbandroidapi:0.3.79"

    //zoom image view
    implementation "com.github.MikeOrtiz:TouchImageView:3.1.1"

    // image downloading
    implementation "com.squareup.picasso:picasso:2.8"
    implementation "com.github.bumptech.glide:glide:4.13.2"

    implementation "com.google.android.exoplayer:exoplayer:2.18.1"
    

    // QR
    implementation "com.github.yuriy-budiyev:code-scanner:2.1.2"

    implementation "androidx.paging:paging-runtime-ktx:3.1.1"
}